## JVM

* 程序计数器(PC)

~~~
保存当前程序正在执行的程序地址。
~~~

* 堆

~~~ 
存储所有 java 对象和数组，线程共享的。GC 工作的主要区域。
~~~

* 栈

~~~
跟线程一一对应，程序运行的地方。
~~~

* 方法区

~~~
属于堆的一部分，叫做永久代(PermGen)，线程共享。
类和类加载器的类结构信息的存储地方。包含 常量池、域、方法数据、方法体、构造函数、
~~~

* 本地方法区(C栈)

~~~
没有严格规范，不同 JVM 厂商自己实现。
~~~



### GC 垃圾回收

##### 1、基于分代的回收算法

~~~
年轻代(Yong 区)：1/4 堆内存。
	Eden 区	：新建对象区，
	Survivor 区：1/8 Yong 区内存，分两个完全相同的子区 From 区、To 区，保证有一个为空。
老年代(old 区)：
永久代(perm 区)：

1. 当 Eden 区满后触发 Minor GC，将 Eden 区和其中非空 Survivor 区存活的对象复制到另一个空的 Survivor 区。(始终保证有一个空 Survivor 区)。
当 Survivor 区的对象足够老(每次 GC 计数加一)则直接存入 Old区。
当 Survivor 区满后，也会放入 Old 区。
2. 当 Old 区满后触发 Major(Full) GC，回收整个堆内存。(Perm 区也由 Full GC 回收)
~~~









### JVM 参数

-Xmx	：堆最大内存。

-Xms	：堆初始内存。



### JVM 启动参数

-verbose:class	：查看 JVM 加载了哪些类。